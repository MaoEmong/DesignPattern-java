# 싱글턴 패턴 정리 (ex04 기반)

## 1. ex04에서 보이는 핵심 구조
- `DoorMan` 클래스에 `public static DoorMan instance = new DoorMan();`가 선언되어 있다. (`src/ex04/DoorMan.java`)
- `DoorMan` 생성자는 `private DoorMan(){}`로 막혀 있어 외부에서 `new DoorMan()`이 불가능하다. (`src/ex04/DoorMan.java`)
- `App`에서는 `DoorMan doorMan = DoorMan.instance;`로 유일 인스턴스를 참조해 사용한다. (`src/ex04/App.java`)

## 2. 왜 싱글턴 패턴인가
싱글턴 패턴은 "애플리케이션에서 특정 클래스의 인스턴스를 하나만 생성하고, 전역에서 공유"하기 위한 패턴이다.

ex04는 다음 두 조건을 만족한다.
- 생성자 은닉(`private`)으로 외부 생성 차단
- 클래스 내부의 정적 인스턴스(`instance`)를 통해 단일 객체 제공

## 3. 이 예제의 동작 흐름
1. `DoorMan` 클래스 로딩 시 `instance`가 한 번 생성된다.
2. 이후 코드는 모두 `DoorMan.instance`를 통해 같은 객체를 사용한다.
3. `쫓아내(Animal a)` 책임은 그 단일 객체가 수행한다.

## 4. 장점
- 객체를 매번 생성하지 않고 공용 객체를 재사용할 수 있다.
- 시스템 전역에서 동일한 상태/행위를 공유하기 쉽다.
- 사용법이 단순하다. (`DoorMan.instance`)

## 5. 주의할 점
- 전역 상태처럼 사용되기 쉬워 테스트가 어려워질 수 있다.
- 멀티스레드 환경, 초기화 시점, 확장성 요구가 있으면 구현 방식을 신중히 선택해야 한다.
- 실무에서는 `enum` 기반 싱글턴, 정적 내부 클래스 홀더 방식 등 더 안전한 변형도 자주 사용한다.
